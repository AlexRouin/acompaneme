

--tabla del formulario de registro general
--el campo Padrino esta referenciado a Usuarios (debe exitir el usuario padrino para agregarlo) en caso de no
--El campo permite dejarl en NULL

CREATE TABLE REGISTRO
(
TIPO_USUARIO VARCHAR(10) NOT NULL,
SEXO VARCHAR(1),
USUARIO VARCHAR(18) PRIMARY KEY NOT NULL ,
PASSWORD VARCHAR(30) NOT NULL,
PAIS VARCHAR(30),
CODIGO_POSTAL INT (5),
FN DATE NOT NULL,
EMAIL VARCHAR (50) NOT NULL,
PRESEX VARCHAR(1),
NOM_ART VARCHAR (15) NOT NULL,
PROMOTOR VARCHAR(18),
FOREIGN KEY (PROMOTOR) REFERENCES REGISTRO (USUARIO),
);

--Creado para ejecutar la busqueda de preferencias entre patrocinador y acompa√±ante en el caso de mujeres
CREATE TABLE MUJER
(
USUARIO VARCHAR(18) PRIMARY KEY NOT NULL ,
FOREIGN KEY (USUARIO) REFERENCES REGISTRO (USUARIO),
ALTURA VARCHAR (4),
PESO VARCHAR (8),
COMPLEXION VARCHAR(10),
C_OJOS  VARCHAR(10),
C_CABELLO VARCHAR(10),
M_BUSTO VARCHAR(5),
M_CINTURA VARCHAR(5),
M_GLUTEOS VARCHAR(5),
TONO_PIEL VARCHAR(12),
EMBARAZADA VARCHAR(2),
TATUAJES VARCHAR(2),
ESTUDIOS VARCHAR(20),
PERSONALIDAD VARCHAR(20),
DESCRIPCION VARCHAR(300),
RAZA VARCHAR(20)
);


CREATE TABLE CITA_PUB
(
USUARIO VARCHAR(18) PRIMARY KEY NOT NULL ,
FOREIGN KEY (USUARIO) REFERENCES REGISTRO (USUARIO),
BAR VARCHAR(2),
DISCOTECA VARCHAR(2),
BILLAR VARCHAR(2),
RESTAURANTE VARCHAR(2),
CINE VARCHAR(2),
CONCIERTO VARCHAR(2),
PLAYA VARCHAR(2),
ALBERCA VARCHAR(2),
PARQUE VARCHAR(2),
CONFERENCIAS VARCHAR(2),
FIESTAS VARCHAR(2),
DOMICILIO VARCHAR(2),
SIM_RELACION VARCHAR(2),
TRATO_NOVIOS VARCHAR(2),
BAILAR VARCHAR(2),
CANTAR VARCHAR(2),
VINO VARCHAR (2),
ALCOHOL VARCHAR(2),
TABACO VARCHAR(2),
DROGAS VARCHAR(2),
VESTIR VARCHAR(2),
VIAJE VARCHAR(2),
VISA VARCHAR(2),
DESCRIPCION VARCHAR(300)

);

CREATE TABLE CITA_PRIV
(
USUARIO VARCHAR(18) PRIMARY KEY NOT NULL ,
FOREIGN KEY (USUARIO) REFERENCES REGISTRO (USUARIO),
HOTEL_MOTEL  VARCHAR(2),
DOMICILIO  VARCHAR(2),
BESOS  VARCHAR(2),
SEXO  VARCHAR(2),
SEXO_ORAL  VARCHAR(2),
SEXO_ANAL  VARCHAR(2),
TRIOS  VARCHAR(2),
JUEGOS_JUGETES  VARCHAR(2),
DISFRAZ VARCHAR(2),
DESCRIPCION VARCHAR(300)

);

CREATE TABLE COSTOS
 (
--Cita DISPONIBILIDAD
USUARIO VARCHAR(18) PRIMARY KEY NOT NULL ,
FOREIGN KEY (USUARIO) REFERENCES REGISTRO (USUARIO),
--Costos cita publica
   PUB_HR_MINIMO INT (2),
   PUB_HR_MINIMA_DONATIVO INT (5),
   PUB_HR_EXTRA_DONATIVO INT (4),
   PUB_HR_MAXIMAS INT (2),
   --Costo cita privada
   PRV_HR_MINIMO INT (2),
   PRV_DONATIVO_HR_MINIMO INT (5),
   PRV_DONATIVO_HR_EXTRA INT (4),
   PRV_HR_MAXIMAS INT (2)

 );

 CREATE TABLE DISPONIBILIDAD
  (
 --Cita DISPONIBILIDAD
 USUARIO VARCHAR(18) PRIMARY KEY NOT NULL ,
 FOREIGN KEY (USUARIO) REFERENCES REGISTRO (USUARIO),
 --Cita hoy
    MINIMO_HORAS_ANTICIPACION INT (1)
    HOY_HR_LUNES_INICIO TIME,
    HOY_HR_LUNES_FINAL TIME,
    HOY_HR_MARTES_INICIO TIME,
    HOY_HR_MARTES_FINAL TIME,
    HOY_HR_MIERCOLES_INICIO TIME,
    HOY_HR_MIERCOLES_FINAL TIME,
    HOY_HR_JUEVES_INICIO TIME,
    HOY_HR_JUEVES_FINAL TIME,
    HOY_HR_VIERNES_INICIO TIME,
    HOY_HR_VIERNES_FINAL TIME,
    HOY_HR_SABADO_INICIO TIME,
    HOY_HR_SABADO_FINAL TIME,
    HOY_HR_DOMINGO_INICIO TIME,
    HOY_HR_DOMINGO_FINAL TIME,
    --Cita previa
    MINIMO_DIAS_ANTICIPACION INT (1)
    PREVIA_HR_LUNES_INICIO TIME,
    PREVIA_HR_LUNES_FINAL TIME,
    PREVIA_HR_LUNES_FINAL_HR_MARTES_INICIO TIME,
    PREVIA_HR_LUNES_FINAL_HR_MARTES_FINAL TIME,
    PREVIA_HR_MIERCOLES_INICIO TIME,
    PREVIA_HR_MIERCOLES_FINAL TIME,
    PREVIA_HR_JUEVES_INICIO TIME,
    PREVIA_HR_JUEVES_FINAL TIME,
    PREVIA_HR_VIERNES_INICIO TIME,
    PREVIA_HR_VIERNES_FINAL TIME,
    PREVIA_HR_SABADO_INICIO TIME,
    PREVIA_HR_SABADO_FINAL TIME,
    PREVIA_HR_DOMINGO_INICIO TIME,
    PREVIA_HR_DOMINGO_FINAL TIME,

  );




 CREATE TABLE CITA_PATROCINADOR_PETICION
  ( --REVISAR FORMULA QUE CALCULA PETICION
   PETICION VARCHAR(38) AS(PATROCINADOR + ACOMPANANTE + CAST(NUMERO AS VARCHAR(2)))
    USUARIO VARCHAR(18) PRIMARY KEY NOT NULL,
    FOREIGN KEY (USUARIO) REFERENCES REGISTRO (USUARIO),
    NUMERO INT NOT NULL AUTO_INCREMENT,
    --DESCRIBE EL PATROCINADOR LAS INSTRUCCIONES QUE ESPERA DE LA CITA
    DESCRIPCION_CITA VARCHAR (1000),
    --CITA PUBLICA COSTO Y SUMA
    CITA_PUB_HR_SOLICITADAS INT(2),
    PUB_CANTIDAD_HR_MINIMAS INT(2),
    PUB_CANTIDAD_HR_EXTRAS INT(2),
    --CITA PRIVADA COSTO Y SUMA
    CITA_PRV_HR_SOLICITADAS INT(2),
    PRV_CANTIDAD_HR_MINIMAS INT(4),
    PRV_CANTIDAD_HR_EXTRAS INT(4)
    --SUMA TOTAL A DONAR AL ACOMOPANANTE
    PUB_DONATIVO_MINIMO INT(5),
    FOREIGN KEY (PUB_DONATIVO_MINIMO) REFERENCES COSTOS (USUARIO),


  );
